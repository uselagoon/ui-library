"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),n=require("react"),m=require("./index.cjs29.js"),a=require("./index.cjs40.js"),d=require("./index.cjs13.js"),N=require("./index.cjs28.js"),f=require("./index.cjs54.js"),y=require("./index.cjs62.js"),w=require("lucide-react");function V({sheetTrigger:j="Open",sheetTitle:g="",sheetDescription:v="",sheetFooterButton:S="Save changes",buttonAction:h=()=>{},sheetFields:c,loading:u=!1,...q}){const[i,x]=n.useState(!1),o=n.useMemo(()=>()=>{const e={};return c.forEach(r=>{r.inputDefault!==void 0&&(e[r.id]=r.inputDefault)}),e},[c]),[s,p]=n.useState(o),b=n.useMemo(()=>c.some(r=>{if(r.required)switch(r.type??"text"){case"checkbox":return s[r.id]!==!0;case"select":case"textarea":case"text":case"email":case"number":case"password":case"tel":return!s[r.id];default:return!1}return!1})||u,[c,s,u]),l=(e,r)=>{p(k=>({...k,[e]:r}))},C=e=>{b||h&&h(e,s)};return n.useEffect(()=>{i&&p(o())},[i,o]),n.useEffect(()=>{!u&&i&&x(!1)},[u,i]),t.jsxs(a.Sheet,{open:i,onOpenChange:x,...q,children:[t.jsx(a.SheetTrigger,{asChild:!0,children:t.jsx(d.Button,{variant:"outline",children:j})}),t.jsxs(a.SheetContent,{children:[t.jsxs(a.SheetHeader,{children:[t.jsx(a.SheetTitle,{children:g}),t.jsx(a.SheetDescription,{children:v})]}),c.map(e=>t.jsx("div",{className:"grid auto-rows-min gap-6 px-4",children:t.jsxs("div",{className:"grid gap-3",children:[e.type!=="checkbox"&&t.jsxs(m.Label,{htmlFor:e.id,children:[e.label,e.required&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(()=>{switch(e.type){case"checkbox":return t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(f.default,{label:e.label,id:e.id,checked:s[e.id]==="true",onCheckedChange:r=>l(e.id,r)}),t.jsxs(m.Label,{htmlFor:e.id,children:[e.label,e.required&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]});case"textarea":return t.jsx("textarea",{id:e.id,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:s[e.id]||"",onChange:r=>l(e.id,r.target.value),placeholder:e?.placeholder});case"select":return t.jsx(y.default,{placeholder:e?.placeholder||"",options:e?.options||[],defaultValue:s[e.id]||"",onValueChange:r=>l(e.id,r.target.value)});default:return t.jsx(N.Input,{type:e?.type||"text",id:e.id,value:s[e.id]||"",onChange:r=>l(e.id,r.target.value),placeholder:e?.placeholder})}})()]})},e.id)),t.jsxs(a.SheetFooter,{children:[t.jsxs(d.Button,{onClick:C,disabled:b,children:[u&&t.jsx(w.Loader2,{className:"mr-2 h-4 w-4 animate-spin"}),S]}),t.jsx(a.SheetClose,{asChild:!0,children:t.jsx(d.Button,{variant:"outline",children:"Close"})})]})]})]})}exports.default=V;
