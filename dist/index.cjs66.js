"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),c=require("react"),b=require("./index.cjs29.js"),a=require("./index.cjs40.js"),i=require("./index.cjs13.js"),k=require("./index.cjs28.js"),y=require("./index.cjs54.js"),w=require("./index.cjs62.js");function N({sheetTrigger:g="Open",sheetTitle:m="",sheetDescription:j="",sheetFooterButton:v="Save changes",buttonAction:d=()=>{},sheetFields:n,...S}){const[l,h]=c.useState(!1),o=c.useMemo(()=>()=>{const e={};return n.forEach(r=>{r.inputDefault!==void 0&&(e[r.id]=r.inputDefault)}),e},[n]),[s,x]=c.useState(o),p=c.useMemo(()=>n.some(e=>{if(e.required)switch(e.type??"text"){case"checkbox":return s[e.id]!=="true";case"select":case"textarea":case"text":case"email":case"number":case"password":case"tel":return!s[e.id];default:return!1}return!1}),[n,s]),u=(e,r)=>{x(q=>({...q,[e]:r}))},C=e=>{p||(d&&d(e,s),h(!1))};return c.useEffect(()=>{l&&x(o())},[l,o]),t.jsxs(a.Sheet,{open:l,onOpenChange:h,...S,children:[t.jsx(a.SheetTrigger,{asChild:!0,children:t.jsx(i.Button,{variant:"outline",children:g})}),t.jsxs(a.SheetContent,{children:[t.jsxs(a.SheetHeader,{children:[t.jsx(a.SheetTitle,{children:m}),t.jsx(a.SheetDescription,{children:j})]}),n.map(e=>t.jsx("div",{className:"grid auto-rows-min gap-6 px-4",children:t.jsxs("div",{className:"grid gap-3",children:[e.type!=="checkbox"&&t.jsxs(b.Label,{htmlFor:e.id,children:[e.label,e.required&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]}),(()=>{switch(e.type){case"checkbox":return t.jsxs("div",{className:"flex items-center space-x-2",children:[t.jsx(y.default,{label:e.label,id:e.id,checked:s[e.id]==="true",onCheckedChange:r=>u(e.id,r)}),t.jsxs(b.Label,{htmlFor:e.id,children:[e.label,e.required&&t.jsx("span",{className:"text-red-500 ml-1",children:"*"})]})]});case"textarea":return t.jsx("textarea",{id:e.id,className:"flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",value:s[e.id]||"",onChange:r=>u(e.id,r.target.value),placeholder:e?.placeholder});case"select":return t.jsx(w.default,{placeholder:e?.placeholder||"",options:e?.options||[],defaultValue:s[e.id]||"",onValueChange:r=>u(e.id,r.target.value)});default:return t.jsx(k.Input,{type:e?.type||"text",id:e.id,value:s[e.id]||"",onChange:r=>u(e.id,r.target.value),placeholder:e?.placeholder})}})()]})},e.id)),t.jsxs(a.SheetFooter,{children:[t.jsx(i.Button,{onClick:C,disabled:p,children:v}),t.jsx(a.SheetClose,{asChild:!0,children:t.jsx(i.Button,{variant:"outline",children:"Close"})})]})]})]})}exports.default=N;
