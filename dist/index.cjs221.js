"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const q=require("./index.cjs171.js"),N=require("./index.cjs144.js"),P=require("react"),x=require("./index.cjs229.js"),D=require("./index.cjs94.js"),G=require("./index.cjs98.js"),T=require("./index.cjs99.js"),U=require("./index.cjs100.js");function $(r){const l=Object.create(null,{[Symbol.toStringTag]:{value:"Module"}});if(r){for(const a in r)if(a!=="default"){const e=Object.getOwnPropertyDescriptor(r,a);Object.defineProperty(l,a,e.get?e:{enumerable:!0,get:()=>r[a]})}}return l.default=r,Object.freeze(l)}const h=$(P);function A(r,l,a,e,i){var M=h.useContext(D.default),f=M.cache,S=[r].concat(N.default(l)),t=x.pathKey(S),j=T.default([t]),y=U.default(),v=function(o){f.opUpdate(t,function(c){var u=c||[void 0,void 0],n=q.default(u,2),s=n[0],d=s===void 0?0:s,p=n[1],m=p;process.env.NODE_ENV!=="production"&&p&&y&&(e?.(m,y),m=null);var C=m||a(),O=[d,C];return o?o(O):O})};h.useMemo(function(){v()},[t]);var _=f.opGet(t);process.env.NODE_ENV!=="production"&&!_&&(v(),_=f.opGet(t));var b=_[1];return G.default(function(){i?.(b)},function(g){return v(function(o){var c=q.default(o,2),u=c[0],n=c[1];return g&&u===0&&i?.(b),[u+1,n]}),function(){f.opUpdate(t,function(o){var c=o||[],u=q.default(c,2),n=u[0],s=n===void 0?0:n,d=u[1],p=s-1;return p===0?(j(function(){(g||!f.opGet(t))&&e?.(d,!1)}),null):[s-1,d]})}},[t]),b}exports.default=A;
