"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("./index.cjs70.js"),u=require("react"),p=require("./index.cjs13.js"),r=require("@tanstack/react-table"),o=require("./index.cjs46.js"),N=require("./index.cjs63.js"),P=require("./index.cjs100.js"),R=require("./index.cjs71.js"),v=require("./index.cjs101.js");function q({columns:x,data:d,searchableColumns:l,renderFilters:m,disableExtra:a}){const[g,f]=u.useState([]),[b,w]=u.useState([]),[S,C]=u.useState({}),[c,E]=u.useState(""),y=(e,n,i)=>l?.length===0?String(e.getValue(n)).toLowerCase().includes(i.toLowerCase()):l?.some(j=>{const M=e.getValue(j);return String(M).toLowerCase().includes(i.toLowerCase())}),T=e=>{const n=e.getValue(),i=r.flexRender(e.column.columnDef.cell,e.getContext());return n&&c&&(!l?.length||l?.includes(e.column.id))&&typeof e.column.columnDef.cell=="function"?P.highlightTextInElement(e?.column?.columnDef?.cell(e.getContext()),c,n):i},s=r.useReactTable({data:d,columns:x,getCoreRowModel:r.getCoreRowModel(),getPaginationRowModel:r.getPaginationRowModel(),getFilteredRowModel:r.getFilteredRowModel(),getSortedRowModel:r.getSortedRowModel(),onColumnFiltersChange:w,onSortingChange:f,onColumnVisibilityChange:C,...l?{globalFilterFn:y}:{},state:{sorting:g,columnFilters:b,columnVisibility:S,globalFilter:c}}),h=g.length>0?g[0].id:null;return u.useEffect(()=>{a&&s.setPageSize(d.length)},[a]),t.jsxRuntimeExports.jsxs("div",{className:"w-[92%] mx-auto",children:[a?null:t.jsxRuntimeExports.jsxs("div",{className:"flex items-end justify-between py-4",children:[t.jsxRuntimeExports.jsx(N.DebouncedInput,{label:"",placeholder:`Search ${l?.length?`by ${l.map(e=>v.lodashExports.capitalize(e)).join(",")}`:"all columns"}...`,value:c??"",onChange:e=>E(e),className:"max-w-sm"}),m&&m(s)]}),t.jsxRuntimeExports.jsx("div",{className:"rounded-md border",children:t.jsxRuntimeExports.jsxs(o.Table,{children:[t.jsxRuntimeExports.jsx(o.TableHeader,{children:s.getHeaderGroups().map(e=>t.jsxRuntimeExports.jsx(o.TableRow,{children:e.headers.map(n=>{const i=n.column.id===h;return t.jsxRuntimeExports.jsx(o.TableHead,{className:R.cn("transition-colors",i&&"bg-gray-100 dark:bg-gray-700"),children:n.isPlaceholder?null:r.flexRender(n.column.columnDef.header,n.getContext())},n.id)})},e.id))}),t.jsxRuntimeExports.jsx(o.TableBody,{children:s.getRowModel().rows?.length?s.getRowModel().rows.map(e=>t.jsxRuntimeExports.jsx(o.TableRow,{"data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(n=>{const i=n.column.id===h;return t.jsxRuntimeExports.jsx(o.TableCell,{className:R.cn("transition-colors",i&&"bg-gray-100 dark:bg-gray-700"),children:T(n)},n.id)})},e.id)):t.jsxRuntimeExports.jsx(o.TableRow,{children:t.jsxRuntimeExports.jsx(o.TableCell,{colSpan:x.length,className:"h-28 text-center",children:"Nothing here."})})})]})}),a?null:t.jsxRuntimeExports.jsxs("div",{className:"flex items-center justify-end space-x-2 py-4",children:[t.jsxRuntimeExports.jsxs("div",{className:"text-muted-foreground flex-1 text-sm",children:["Showing ",s.getRowModel().rows.length," of ",d.length," entries"]}),t.jsxRuntimeExports.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",s.getState().pagination.pageIndex+1," of ",s.getPageCount()]}),t.jsxRuntimeExports.jsx(p.Button,{variant:"outline",size:"sm",onClick:()=>s.previousPage(),disabled:!s.getCanPreviousPage(),children:"Previous"}),t.jsxRuntimeExports.jsx(p.Button,{variant:"outline",size:"sm",onClick:()=>s.nextPage(),disabled:!s.getCanNextPage(),children:"Next"})]})]})}exports.default=q;
