"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),i=require("react"),p=require("./index.cjs13.js"),a=require("@tanstack/react-table"),o=require("./index.cjs46.js"),H=require("./index.cjs63.js"),k=require("./index.cjs93.js"),y=require("./index.cjs70.js"),I=require("./index.cjs94.js"),L=require("./index.cjs42.js");function z({columns:c,data:m,searchableColumns:r,loading:u,renderFilters:f,disableExtra:d,onSearch:b,initialSearch:C,initialPageSize:h}){const[x,R]=i.useState([]),[S,M]=i.useState([]),[N,T]=i.useState({}),[g,P]=i.useState(C??""),q=(e,l,s)=>r?.length===0?String(e.getValue(l)).toLowerCase().includes(s.toLowerCase()):r?.some(j=>{const D=e.getValue(j);return String(D).toLowerCase().includes(s.toLowerCase())}),v=e=>{const l=e.getValue(),s=a.flexRender(e.column.columnDef.cell,e.getContext());return l&&g&&(!r?.length||r?.includes(e.column.id))&&typeof e.column.columnDef.cell=="function"?k.highlightTextInElement(e?.column?.columnDef?.cell(e.getContext()),g,l):s},F=i.useMemo(()=>u?Array(10).fill({}):m,[u,m]),V=i.useMemo(()=>u?c.map(e=>({...e,cell:()=>t.jsx(L.Skeleton,{className:"h-6 w-50 rounded-sm"})})):c,[u,c]),n=a.useReactTable({data:F,columns:V,getCoreRowModel:a.getCoreRowModel(),getPaginationRowModel:a.getPaginationRowModel(),getFilteredRowModel:a.getFilteredRowModel(),getSortedRowModel:a.getSortedRowModel(),onColumnFiltersChange:M,onSortingChange:R,onColumnVisibilityChange:T,...r?{globalFilterFn:q}:{},state:{sorting:x,columnFilters:S,columnVisibility:N,globalFilter:g}}),w=x.length>0?x[0].id:null;return i.useEffect(()=>{d&&n.setPageSize(m.length)},[d]),i.useEffect(()=>{h&&n.setPageSize(h)},[h]),t.jsxs("div",{className:"w-[92%] mx-auto",children:[d?null:t.jsxs("div",{className:"flex items-end justify-between py-4",children:[t.jsx(H.DebouncedInput,{label:"",placeholder:`Search ${r?.length?`by ${r.map(e=>I.lodashExports.capitalize(e)).join(",")}`:"all columns"}...`,value:g??"",onChange:e=>{P(e),b&&b(e)},className:"max-w-sm"}),f&&f(n)]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(o.Table,{children:[t.jsx(o.TableHeader,{children:n.getHeaderGroups().map(e=>t.jsx(o.TableRow,{className:"py-6",children:e.headers.map(l=>{const s=l.column.id===w;return t.jsx(o.TableHead,{className:y.cn("transition-colors py-1",s&&"bg-gray-100 dark:bg-gray-700"),children:l.isPlaceholder?null:a.flexRender(l.column.columnDef.header,l.getContext())},l.id)})},e.id))}),t.jsx(o.TableBody,{children:n.getRowModel().rows?.length?n.getRowModel().rows.map(e=>t.jsx(o.TableRow,{className:"py-6","data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(l=>{const s=l.column.id===w;return t.jsx(o.TableCell,{className:y.cn("transition-colors py-6",s&&"bg-gray-100 dark:bg-gray-700"),children:v(l)},l.id)})},e.id)):t.jsx(o.TableRow,{children:t.jsx(o.TableCell,{colSpan:c.length,className:"h-28 text-center",children:"Nothing here."})})})]})}),d?null:t.jsxs("div",{className:"flex items-center justify-end space-x-2 py-6",children:[t.jsxs("div",{className:"text-muted-foreground flex-1 text-sm",children:["Showing ",n.getRowModel().rows.length," of ",n.getPrePaginationRowModel().rows.length," entries"]}),t.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",n.getState().pagination.pageIndex+1," of ",n.getPageCount()]}),t.jsx(p.Button,{variant:"outline",size:"sm",onClick:()=>n.previousPage(),disabled:!n.getCanPreviousPage(),children:"Previous"}),t.jsx(p.Button,{variant:"outline",size:"sm",onClick:()=>n.nextPage(),disabled:!n.getCanNextPage(),children:"Next"})]})]})}exports.default=z;
