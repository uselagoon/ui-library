"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const t=require("react/jsx-runtime"),a=require("react"),p=require("./index.cjs13.js"),r=require("@tanstack/react-table"),o=require("./index.cjs46.js"),F=require("./index.cjs63.js"),V=require("./index.cjs93.js"),w=require("./index.cjs70.js"),H=require("./index.cjs94.js");function D({columns:h,data:u,searchableColumns:i,renderFilters:x,disableExtra:c,onSearch:f,initialSearch:y,initialPageSize:g}){const[m,C]=a.useState([]),[R,S]=a.useState([]),[N,T]=a.useState({}),[d,M]=a.useState(y??""),P=(e,n,s)=>i?.length===0?String(e.getValue(n)).toLowerCase().includes(s.toLowerCase()):i?.some(j=>{const q=e.getValue(j);return String(q).toLowerCase().includes(s.toLowerCase())}),v=e=>{const n=e.getValue(),s=r.flexRender(e.column.columnDef.cell,e.getContext());return n&&d&&(!i?.length||i?.includes(e.column.id))&&typeof e.column.columnDef.cell=="function"?V.highlightTextInElement(e?.column?.columnDef?.cell(e.getContext()),d,n):s},l=r.useReactTable({data:u,columns:h,getCoreRowModel:r.getCoreRowModel(),getPaginationRowModel:r.getPaginationRowModel(),getFilteredRowModel:r.getFilteredRowModel(),getSortedRowModel:r.getSortedRowModel(),onColumnFiltersChange:S,onSortingChange:C,onColumnVisibilityChange:T,...i?{globalFilterFn:P}:{},state:{sorting:m,columnFilters:R,columnVisibility:N,globalFilter:d}}),b=m.length>0?m[0].id:null;return a.useEffect(()=>{c&&l.setPageSize(u.length)},[c]),a.useEffect(()=>{g&&l.setPageSize(g)},[g]),t.jsxs("div",{className:"w-[92%] mx-auto",children:[c?null:t.jsxs("div",{className:"flex items-end justify-between py-4",children:[t.jsx(F.DebouncedInput,{label:"",placeholder:`Search ${i?.length?`by ${i.map(e=>H.lodashExports.capitalize(e)).join(",")}`:"all columns"}...`,value:d??"",onChange:e=>{M(e),f&&f(e)},className:"max-w-sm"}),x&&x(l)]}),t.jsx("div",{className:"rounded-md border",children:t.jsxs(o.Table,{children:[t.jsx(o.TableHeader,{children:l.getHeaderGroups().map(e=>t.jsx(o.TableRow,{className:"py-6",children:e.headers.map(n=>{const s=n.column.id===b;return t.jsx(o.TableHead,{className:w.cn("transition-colors py-1",s&&"bg-gray-100 dark:bg-gray-700"),children:n.isPlaceholder?null:r.flexRender(n.column.columnDef.header,n.getContext())},n.id)})},e.id))}),t.jsx(o.TableBody,{children:l.getRowModel().rows?.length?l.getRowModel().rows.map(e=>t.jsx(o.TableRow,{className:"py-6","data-state":e.getIsSelected()&&"selected",children:e.getVisibleCells().map(n=>{const s=n.column.id===b;return t.jsx(o.TableCell,{className:w.cn("transition-colors py-6",s&&"bg-gray-100 dark:bg-gray-700"),children:v(n)},n.id)})},e.id)):t.jsx(o.TableRow,{children:t.jsx(o.TableCell,{colSpan:h.length,className:"h-28 text-center",children:"Nothing here."})})})]})}),c?null:t.jsxs("div",{className:"flex items-center justify-end space-x-2 py-6",children:[t.jsxs("div",{className:"text-muted-foreground flex-1 text-sm",children:["Showing ",l.getRowModel().rows.length," of ",u.length," entries"]}),t.jsxs("div",{className:"flex w-[100px] items-center justify-center text-sm font-medium",children:["Page ",l.getState().pagination.pageIndex+1," of ",l.getPageCount()]}),t.jsx(p.Button,{variant:"outline",size:"sm",onClick:()=>l.previousPage(),disabled:!l.getCanPreviousPage(),children:"Previous"}),t.jsx(p.Button,{variant:"outline",size:"sm",onClick:()=>l.nextPage(),disabled:!l.getCanNextPage(),children:"Next"})]})]})}exports.default=D;
