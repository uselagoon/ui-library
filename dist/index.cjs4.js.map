{"version":3,"file":"index.cjs4.js","sources":["../src/hooks/useTheme.tsx"],"sourcesContent":["import React, { createContext, useContext, useEffect, useState } from 'react';\n\ntype Theme = 'dark' | 'light';\n//@ts-ignore\nconst ThemeContext = createContext<any>(null);\n\nconst useTheme = () => {\n\tconst context = useContext(ThemeContext);\n\tif (!context) {\n\t\tthrow new Error('useTheme must be used within a ThemeProvider');\n\t}\n\treturn context;\n};\n\nexport const AppThemeProvider = ({ defaultScheme, children }: { defaultScheme?: Theme; children: React.ReactNode }) => {\n\tconst [theme, setTheme] = useState<Theme | null>(null);\n\n\tuseEffect(() => {\n\t\tif (defaultScheme) {\n\t\t\tsetTheme(defaultScheme);\n\t\t\treturn;\n\t\t}\n\t\tconst storageTheme = localStorage.getItem('theme');\n\t\t// already previously set in browser store.\n\t\tif (storageTheme && ['light', 'dark'].includes(storageTheme)) {\n\t\t\tsetTheme(storageTheme as Theme);\n\t\t} else {\n\t\t\t// try to automatically infer dark mode theme.\n\t\t\tif (window.matchMedia && window.matchMedia('(prefers-color-scheme: dark)').matches) {\n\t\t\t\tsetTheme('dark');\n\t\t\t\tlocalStorage.setItem('theme', 'dark');\n\t\t\t} else {\n\t\t\t\t// default to light\n\t\t\t\tsetTheme('light');\n\t\t\t\tlocalStorage.setItem('theme', 'light');\n\t\t\t}\n\t\t}\n\t}, []);\n\n\tconst toggleTheme = () => {\n\t\tconst newTheme = theme === 'light' ? 'dark' : 'light';\n\t\tsetTheme(newTheme);\n\t\tlocalStorage.setItem('theme', newTheme);\n\t\twindow.dispatchEvent(new Event('storage'));\n\t};\n\n\treturn <ThemeContext.Provider value={{ theme, toggleTheme }}>{children}</ThemeContext.Provider>;\n};\n\nexport default useTheme;\n"],"names":["ThemeContext","createContext","useTheme","context","useContext","AppThemeProvider","defaultScheme","children","theme","setTheme","useState","useEffect","storageTheme","toggleTheme","newTheme","React"],"mappings":"qIAIMA,EAAeC,gBAAmB,IAAI,EAEtCC,EAAW,IAAM,CAChB,MAAAC,EAAUC,aAAWJ,CAAY,EACvC,GAAI,CAACG,EACE,MAAA,IAAI,MAAM,8CAA8C,EAExD,OAAAA,CACR,EAEaE,EAAmB,CAAC,CAAE,cAAAC,EAAe,SAAAC,KAAqE,CACtH,KAAM,CAACC,EAAOC,CAAQ,EAAIC,EAAAA,SAAuB,IAAI,EAErDC,EAAAA,UAAU,IAAM,CACf,GAAIL,EAAe,CAClBG,EAASH,CAAa,EACtB,MAAA,CAEK,MAAAM,EAAe,aAAa,QAAQ,OAAO,EAE7CA,GAAgB,CAAC,QAAS,MAAM,EAAE,SAASA,CAAY,EAC1DH,EAASG,CAAqB,EAG1B,OAAO,YAAc,OAAO,WAAW,8BAA8B,EAAE,SAC1EH,EAAS,MAAM,EACF,aAAA,QAAQ,QAAS,MAAM,IAGpCA,EAAS,OAAO,EACH,aAAA,QAAQ,QAAS,OAAO,EAGxC,EAAG,EAAE,EAEL,MAAMI,EAAc,IAAM,CACnB,MAAAC,EAAWN,IAAU,QAAU,OAAS,QAC9CC,EAASK,CAAQ,EACJ,aAAA,QAAQ,QAASA,CAAQ,EACtC,OAAO,cAAc,IAAI,MAAM,SAAS,CAAC,CAC1C,EAEO,OAAAC,EAAA,cAACf,EAAa,SAAb,CAAsB,MAAO,CAAE,MAAAQ,EAAO,YAAAK,EAAY,EAAIN,CAAS,CACxE"}