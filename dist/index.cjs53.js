"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),S=require("react"),r=require("./index.cjs41.js"),P=require("./index.cjs94.js"),g=require("./index.cjs95.js"),f=require("./index.cjs10.js"),U=require("@radix-ui/react-avatar"),F=require("./index.cjs96.js"),G=require("./index.cjs5.js"),T=require("./index.cjs97.js"),$=require("./index.cjs42.js");function D({userInfo:A,appInfo:j,currentPath:l,dynamicNav:C,signOutFn:N,...k}){const p=G.useLinkComponent(),u=T.useSidenavItems(j,l,C),{name:M,image:b,email:c}=A,q=!!b,h=M?.split(" ")??[],d=h[0]??void 0,o=h.length>1?h.slice(1).join(" "):" ",x=!!(d&&o),v=x?g.genAvatarBackground(d.charAt(0),o.charAt(0)):g.genAvatarBackground(c.charAt(0),c.charAt(1)),w=x?d.charAt(0).toUpperCase()+o.charAt(0).toUpperCase():c.charAt(0).toUpperCase(),B=q?e.jsxs(f.Avatar,{children:[e.jsx(f.AvatarImage,{src:b,alt:"user_avatar"}),e.jsx(U.AvatarFallback,{children:"Avatar"})]}):e.jsx(F.default,{bgColor:v.bgColor,textColor:v.textColor,children:w}),y=x?e.jsx("span",{className:"user-name",children:`${d} ${o}`}):e.jsx("span",{className:"user-name",children:c}),m=S.useMemo(()=>{const a=new Set;return u.forEach(s=>{s.sectionItems.forEach(n=>{l.startsWith(n.url)&&(a.add(n.url),n.children&&n.children.forEach(t=>{l.startsWith(t.url)&&a.add(t.url)}))})}),a},[u,l]),{state:_}=r.useSidebar(),L={...j,signOutFn:N,isCollapsed:_==="collapsed"};return e.jsxs(r.Sidebar,{variant:"sidebar",collapsible:"icon",...k,className:"w-[clamp(0px,20vw,256px)] transition-all overflow-hidden",children:[e.jsx(r.SidebarHeader,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsx(P.default,{...L})})})}),e.jsx(r.SidebarContent,{children:u.map(a=>e.jsxs(r.SidebarGroup,{children:[e.jsx(r.SidebarGroupLabel,{children:a.section}),e.jsx(r.SidebarGroupContent,{className:"list-none",children:a.sectionItems.map(s=>{const n=s.target==="blank",t=s?.onClick;return e.jsxs(S.Fragment,{children:[e.jsx(r.SidebarMenuItem,{children:e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:m.has(s.url),children:e.jsxs(p,{"data-cy":`nav-${s.url.slice(1)}`,onClick:async()=>{t&&await t()},href:s.url,target:n?"_blank":"_self",children:[s.icon&&e.jsx(s.icon,{}),e.jsx("span",{children:s.title})]})})}),s.children?e.jsx("ul",{className:"ml-4",children:s.children.map(i=>e.jsx(r.SidebarMenuItem,{children:e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:m.has(i.url),children:e.jsx(p,{href:i.url,children:e.jsx("span",{children:i.title})})})},i.title))}):e.jsx("ul",{className:"ml-4 space-y-1",children:Array.from({length:3}).map((i,E)=>e.jsx("li",{children:e.jsx($.Skeleton,{className:"h-6 w-100 rounded-sm"})},E))})]},s.title)})})]},a.section))}),e.jsx(r.SidebarFooter,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsxs(r.SidebarMenuButton,{size:"lg",children:[B,e.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-light",children:y})})]})})})})]})}exports.default=D;
