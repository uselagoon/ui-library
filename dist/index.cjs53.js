"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),f=require("react"),r=require("./index.cjs41.js"),$=require("./index.cjs94.js"),q=require("./index.cjs95.js"),w=require("./index.cjs10.js"),G=require("@radix-ui/react-avatar"),R=require("./index.cjs96.js"),W=require("./index.cjs5.js"),C=require("./index.cjs19.js"),S=require("lucide-react"),B=require("./index.cjs13.js"),D=require("./index.cjs70.js"),y=(c,o,n)=>o.children?.length?e.jsx("ul",{className:"ml-4 mt-2 space-y-2",children:o.children.map(a=>e.jsxs(r.SidebarMenuItem,{children:[e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:n.has(a.url),children:e.jsx(c,{href:a.url,children:e.jsxs("div",{className:"flex items-center gap-2",children:[a.icon&&e.jsx(a.icon,{}),e.jsx("span",{children:a.title})]})})}),y(c,a,n)]},a.title))}):null;function H({userInfo:c,appInfo:o,currentPath:n,sidenavItems:a,signOutFn:z,...O}){const A=W.useLinkComponent(),{name:U,image:N,email:d}=c,_=!!N,b=U?.split(" ")??[],u=b[0]??void 0,h=b.length>1?b.slice(1).join(" "):" ",p=!!(u&&h),M=p?q.genAvatarBackground(u.charAt(0),h.charAt(0)):q.genAvatarBackground(d.charAt(0),d.charAt(1)),E=p?u.charAt(0).toUpperCase()+h.charAt(0).toUpperCase():d.charAt(0).toUpperCase(),F=_?e.jsxs(w.Avatar,{children:[e.jsx(w.AvatarImage,{src:N,alt:"user_avatar"}),e.jsx(G.AvatarFallback,{children:"Avatar"})]}):e.jsx(R.default,{bgColor:M.bgColor,textColor:M.textColor,children:E}),L=p?e.jsx("span",{className:"user-name",children:`${u} ${h}`}):e.jsx("span",{className:"user-name",children:d}),g=f.useMemo(()=>{const l=new Set;return a.forEach(s=>{s.sectionItems.forEach(t=>{(n===t.url||n.startsWith(t.url+"/"))&&l.add(t.url),t.children?.forEach(i=>{(n===i.url||n.startsWith(i.url+"/"))&&(l.add(i.url),l.add(t.url))})})}),l},[a,n]),{state:P}=r.useSidebar(),[x,m]=f.useState(!1),T={...o,signOutFn:z,isCollapsed:P==="collapsed"};return e.jsxs(e.Fragment,{children:[!x&&e.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-40",children:e.jsx(B.Button,{variant:"ghost",size:"icon",onClick:()=>m(!0),"aria-label":"Open sidebar",children:e.jsx(S.Menu,{className:"h-5 w-5"})})}),e.jsxs(r.Sidebar,{variant:"sidebar",collapsible:"none",...O,className:D.cn("fixed lg:static top-0 left-0 z-40 h-full lg:h-[unset] bg-background transition-transform duration-300","w-[min(20vw,100%)] min-w-[290px] overflow-hidden pr-4 lg:pr-0","lg:translate-x-0",x?"translate-x-0":"-translate-x-full"),children:[x&&e.jsx("div",{className:"lg:hidden absolute top-4 right-0",children:e.jsx(B.Button,{variant:"ghost",size:"icon",onClick:()=>m(!1),"aria-label":"Close sidebar",children:e.jsx(S.X,{className:"h-5 w-5"})})}),e.jsx(r.SidebarHeader,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsx($.default,{...T})})})}),e.jsx(r.SidebarContent,{children:a.map(l=>e.jsxs(r.SidebarGroup,{children:[e.jsx(r.SidebarGroupLabel,{children:l.section}),e.jsx(r.SidebarGroupContent,{className:"list-none",children:l.sectionItems.map(s=>{const t=s.target==="blank",v=s?.onClick,i=Array.from(g).some(j=>j.startsWith(s.url)),k=i&&s.children;return e.jsx(f.Fragment,{children:e.jsxs(C.Collapsible,{open:i,children:[e.jsx(r.SidebarMenuItem,{children:e.jsx(C.CollapsibleTrigger,{asChild:!0,children:e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:g.has(s.url),children:e.jsxs(A,{"data-cy":`nav-${s.url.slice(1)}`,onClick:async()=>{v&&await v()},href:s.url,target:t?"_blank":"_self",className:"flex w-full gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.icon&&e.jsx(s.icon,{}),e.jsx("span",{children:s.title})]}),k?e.jsx(S.ChevronUp,{className:`ml-auto h-4 w-4 transition-transform ${i?"rotate-180":""}`}):null]})})})}),e.jsx(C.CollapsibleContent,{children:e.jsx(r.SidebarMenuSub,{children:s.children?.map(j=>e.jsx(r.SidebarMenuItem,{children:y(A,j,g)},j.title))})})]})},s.title)})})]},l.section))}),e.jsx(r.SidebarFooter,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsxs(r.SidebarMenuButton,{size:"lg",children:[F,e.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-light",children:L})})]})})})})]}),x&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-30 lg:hidden",onClick:()=>m(!1)})]})}exports.default=H;
