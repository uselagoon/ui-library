"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),m=require("react"),r=require("./index.cjs41.js"),P=require("./index.cjs94.js"),S=require("./index.cjs95.js"),g=require("./index.cjs10.js"),E=require("@radix-ui/react-avatar"),U=require("./index.cjs96.js"),F=require("./index.cjs5.js"),G=require("./index.cjs42.js");function T({userInfo:f,appInfo:A,currentPath:d,sidenavItems:u,signOutFn:C,...N}){const j=F.useLinkComponent(),{name:k,image:p,email:l}=f,M=!!p,h=k?.split(" ")??[],c=h[0]??void 0,o=h.length>1?h.slice(1).join(" "):" ",x=!!(c&&o),b=x?S.genAvatarBackground(c.charAt(0),o.charAt(0)):S.genAvatarBackground(l.charAt(0),l.charAt(1)),q=x?c.charAt(0).toUpperCase()+o.charAt(0).toUpperCase():l.charAt(0).toUpperCase(),w=M?e.jsxs(g.Avatar,{children:[e.jsx(g.AvatarImage,{src:p,alt:"user_avatar"}),e.jsx(E.AvatarFallback,{children:"Avatar"})]}):e.jsx(U.default,{bgColor:b.bgColor,textColor:b.textColor,children:q}),B=x?e.jsx("span",{className:"user-name",children:`${c} ${o}`}):e.jsx("span",{className:"user-name",children:l}),v=m.useMemo(()=>{const s=new Set;return u.forEach(a=>{a.sectionItems.forEach(n=>{d.startsWith(n.url)&&(s.add(n.url),n.children&&n.children.forEach(t=>{d.startsWith(t.url)&&s.add(t.url)}))})}),s},[u,d]),{state:y}=r.useSidebar(),_={...A,signOutFn:C,isCollapsed:y==="collapsed"};return e.jsxs(r.Sidebar,{variant:"sidebar",collapsible:"icon",...N,className:"w-[clamp(0px,20vw,256px)] transition-all overflow-hidden",children:[e.jsx(r.SidebarHeader,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsx(P.default,{..._})})})}),e.jsx(r.SidebarContent,{children:u.map(s=>e.jsxs(r.SidebarGroup,{children:[e.jsx(r.SidebarGroupLabel,{children:s.section}),e.jsx(r.SidebarGroupContent,{className:"list-none",children:s.sectionItems.map(a=>{const n=a.target==="blank",t=a?.onClick;return e.jsxs(m.Fragment,{children:[e.jsx(r.SidebarMenuItem,{children:e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:v.has(a.url),children:e.jsxs(j,{"data-cy":`nav-${a.url.slice(1)}`,onClick:async()=>{t&&await t()},href:a.url,target:n?"_blank":"_self",children:[a.icon&&e.jsx(a.icon,{}),e.jsx("span",{children:a.title})]})})}),a.children?e.jsx("ul",{className:"ml-4",children:a.children.map(i=>e.jsx(r.SidebarMenuItem,{children:e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:v.has(i.url),children:e.jsx(j,{href:i.url,children:e.jsx("span",{children:i.title})})})},i.title))}):e.jsx("ul",{className:"ml-4 space-y-1",children:Array.from({length:3}).map((i,L)=>e.jsx("li",{children:e.jsx(G.Skeleton,{className:"h-6 w-100 rounded-sm"})},L))})]},a.title)})})]},s.section))}),e.jsx(r.SidebarFooter,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsxs(r.SidebarMenuButton,{size:"lg",children:[w,e.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-light",children:B})})]})})})})]})}exports.default=T;
