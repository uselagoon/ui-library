"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),S=require("react"),r=require("./index.cjs41.js"),_=require("./index.cjs94.js"),g=require("./index.cjs95.js"),f=require("./index.cjs10.js"),y=require("@radix-ui/react-avatar"),E=require("./index.cjs96.js"),U=require("./index.cjs5.js");function F({userInfo:m,appInfo:A,currentPath:d,sidenavItems:u,signOutFn:C,...M}){const j=U.useLinkComponent(),{name:N,image:p,email:i}=m,k=!!p,h=N?.split(" ")??[],l=h[0]??void 0,c=h.length>1?h.slice(1).join(" "):" ",x=!!(l&&c),b=x?g.genAvatarBackground(l.charAt(0),c.charAt(0)):g.genAvatarBackground(i.charAt(0),i.charAt(1)),q=x?l.charAt(0).toUpperCase()+c.charAt(0).toUpperCase():i.charAt(0).toUpperCase(),w=k?e.jsxs(f.Avatar,{children:[e.jsx(f.AvatarImage,{src:p,alt:"user_avatar"}),e.jsx(y.AvatarFallback,{children:"Avatar"})]}):e.jsx(E.default,{bgColor:b.bgColor,textColor:b.textColor,children:q}),B=x?e.jsx("span",{className:"user-name",children:`${l} ${c}`}):e.jsx("span",{className:"user-name",children:i}),v=S.useMemo(()=>{const s=new Set;return u.forEach(a=>{a.sectionItems.forEach(t=>{d.startsWith(t.url)&&(s.add(t.url),t.children&&t.children.forEach(n=>{d.startsWith(n.url)&&s.add(n.url)}))})}),s},[u,d]),{state:L}=r.useSidebar(),P={...A,signOutFn:C,isCollapsed:L==="collapsed"};return e.jsxs(r.Sidebar,{variant:"sidebar",collapsible:"icon",...M,className:"w-[clamp(0px,20vw,256px)] transition-all overflow-hidden",children:[e.jsx(r.SidebarHeader,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsx(_.default,{...P})})})}),e.jsx(r.SidebarContent,{children:u.map(s=>e.jsxs(r.SidebarGroup,{children:[e.jsx(r.SidebarGroupLabel,{children:s.section}),e.jsx(r.SidebarGroupContent,{className:"list-none",children:s.sectionItems.map(a=>{const t=a.target==="blank",n=a?.onClick;return e.jsxs(S.Fragment,{children:[e.jsx(r.SidebarMenuItem,{children:e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:v.has(a.url),children:e.jsxs(j,{"data-cy":`nav-${a.url.slice(1)}`,onClick:async()=>{n&&await n()},href:a.url,target:t?"_blank":"_self",children:[a.icon&&e.jsx(a.icon,{}),e.jsx("span",{children:a.title})]})})}),e.jsx("ul",{className:"ml-4",children:a.children?.map(o=>e.jsx(r.SidebarMenuItem,{children:e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:v.has(o.url),children:e.jsx(j,{href:o.url,children:e.jsx("span",{children:o.title})})})},o.title))})]},a.title)})})]},s.section))}),e.jsx(r.SidebarFooter,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsxs(r.SidebarMenuButton,{size:"lg",children:[w,e.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-light",children:B})})]})})})})]})}exports.default=F;
