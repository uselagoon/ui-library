"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),k=require("react"),s=require("./index.cjs41.js"),T=require("./index.cjs97.js"),M=require("./index.cjs98.js"),w=require("./index.cjs10.js"),G=require("@radix-ui/react-avatar"),R=require("./index.cjs99.js"),D=require("./index.cjs5.js"),v=require("./index.cjs19.js"),f=require("lucide-react"),B=require("./index.cjs13.js"),E=require("./index.cjs71.js"),W=require("./index.cjs100.js"),X=require("./index.cjs101.js"),$=(i,o,t)=>o.children?.length?e.jsx("ul",{className:"ml-4 mt-2 space-y-1",children:o.children.map(r=>{const x=r.children&&r.children.length>0?t.has(r.url)||t.has(`${r.url}:parent`):t.has(r.url);return e.jsxs(s.SidebarMenuItem,{children:[e.jsx(s.SidebarMenuButton,{asChild:!0,isActive:x,children:e.jsx(i,{href:r.url,className:`${r.icon?"":"ml-4"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[r.icon&&e.jsx(r.icon,{}),e.jsx("span",{children:r.title})]})})}),$(i,r,t)]},r.title)})}):null;function H({userInfo:i,appInfo:o,currentPath:t,sidenavItems:r,signOutFn:C,...x}){const j=D.useLinkComponent(),{name:y,image:S,email:c}=i,z=!!S,p=y?.split(" ")??[],u=p[0]??void 0,d=p.length>1?p.slice(1).join(" "):" ",b=!!(u&&d),N=b?M.genAvatarBackground(u.charAt(0),d.charAt(0)):M.genAvatarBackground(c.charAt(0),c.charAt(1)),O=b?u.charAt(0).toUpperCase()+d.charAt(0).toUpperCase():c.charAt(0).toUpperCase(),P=z?e.jsxs(w.Avatar,{children:[e.jsx(w.AvatarImage,{src:S,alt:"user_avatar"}),e.jsx(G.AvatarFallback,{children:"Avatar"})]}):e.jsx(R.default,{bgColor:N.bgColor,textColor:N.textColor,children:O}),F=b?e.jsx("span",{className:"user-name",children:`${u} ${d}`}):e.jsx("span",{className:"user-name",children:c}),l=W.default(r,t),[h,m]=k.useState(!1),L={...o,signOutFn:C,avatar:P,userDisplayName:F};return e.jsxs(e.Fragment,{children:[!h&&e.jsx("div",{className:"lg:hidden fixed top-2 left-4 z-40",children:e.jsx(B.Button,{variant:"ghost",size:"icon",onClick:()=>m(!0),"aria-label":"Open sidebar",children:e.jsx(f.Menu,{className:"h-5 w-5"})})}),e.jsxs(s.Sidebar,{variant:"sidebar",collapsible:"none",...x,className:E.cn("fixed lg:static top-0 left-0 z-40 h-full lg:h-[unset] bg-background transition-transform duration-300","w-[min(20vw,100%)] min-w-[290px] overflow-hidden pr-4 lg:pr-0","lg:translate-x-0",h?"translate-x-0":"-translate-x-full"),children:[h&&e.jsx("div",{className:"lg:hidden absolute top-4 right-0",children:e.jsx(B.Button,{variant:"ghost",size:"icon",onClick:()=>m(!1),"aria-label":"Close sidebar",children:e.jsx(f.X,{className:"h-5 w-5"})})}),e.jsx(X.default,{}),e.jsx(s.SidebarContent,{children:r.map(g=>e.jsxs(s.SidebarGroup,{children:[e.jsx(s.SidebarGroupLabel,{children:g.section}),e.jsx(s.SidebarGroupContent,{className:"list-none",children:g.sectionItems.map(a=>{const U=a.target==="blank",A=a?.onClick,q=Array.from(l).some(n=>n.startsWith(a.url)),_=["Projects","Organizations"].includes(a.title);return e.jsx(k.Fragment,{children:e.jsxs(v.Collapsible,{open:q,children:[e.jsx(s.SidebarMenuItem,{children:e.jsx(v.CollapsibleTrigger,{asChild:!0,children:e.jsx(s.SidebarMenuButton,{asChild:!0,isActive:l.has(a.url)||l.has(`${a.url}:parent`),children:e.jsxs(j,{"data-cy":`nav-${a.url.slice(1)}`,onClick:async()=>{A&&await A()},href:a.url,target:U?"_blank":"_self",className:"flex w-full gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[a.icon&&e.jsx(a.icon,{}),e.jsx("span",{children:a.title})]}),_?e.jsx(f.ChevronUp,{className:`ml-auto h-4 w-4 transition-transform ${q?"rotate-180":"rotate-90"}`}):null]})})})}),e.jsx(v.CollapsibleContent,{children:e.jsx(s.SidebarMenuSub,{children:a.children?.map(n=>e.jsxs(s.SidebarMenuItem,{children:[e.jsx(s.SidebarMenuButton,{asChild:!0,isActive:l.has(n.url)||l.has(`${n.url}:parent`),children:e.jsx(j,{href:n.url,className:"mt-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[n.icon&&e.jsx(n.icon,{}),e.jsx("span",{children:n.title})]})})}),$(j,n,l)]},n.title))})})]})},a.title)})})]},g.section))}),e.jsx(s.SidebarFooter,{children:e.jsx(s.SidebarMenu,{children:e.jsx(s.SidebarMenuItem,{children:e.jsx(T.default,{...L})})})})]}),h&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-30 lg:hidden",onClick:()=>m(!1)})]})}exports.default=H;
