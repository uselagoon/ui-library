"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),C=require("react"),t=require("./index.cjs41.js"),i=require("lucide-react"),O=require("./index.cjs94.js"),A=require("./index.cjs95.js"),N=require("./index.cjs10.js"),R=require("@radix-ui/react-avatar"),_=require("./index.cjs96.js"),D=require("./index.cjs5.js"),q=(g,n,s)=>{const o=n.match(/^\/projects\/([^/]+)/),j=n.match(/^\/projects\/([^/]+)\/([^/]+)/),x=n.match(/^\/organizations\/([^/]+)/),a=o?.[1],v=j?.[2],c=x?.[1];return[{section:"Projects",sectionItems:[{title:"Projects",url:"/projects",icon:i.FolderGit2,children:a&&s?.getProjectNav?s.getProjectNav(a,v,s.getEnvironmentNav):void 0}]},{section:"Deployments",sectionItems:[{title:"Active Deployments",url:"/alldeployments",icon:i.ServerCog}]},{section:"Organizations",sectionItems:[{title:"Organizations",url:"/organizations",icon:i.BriefcaseBusiness,children:c&&s?.getOrgNav?s.getOrgNav(c):void 0}]},{section:"Settings",sectionItems:[{title:"SSH Keys",url:"/settings",icon:i.KeyRound},{title:"Preferences",url:"/settings/preferences",icon:i.ListChecks},{title:"My Account",url:`${g}/account`,target:"blank",onClick:()=>{},icon:i.UserRoundCog}]}]};function F({userInfo:g,appInfo:n,currentPath:s,dynamicNav:o,signOutFn:j,...x}){const a=D.useLinkComponent(),{name:v,image:c,email:l}=g,P=!!c,p=v?.split(" ")??[],d=p[0]??void 0,u=p.length>1?p.slice(1).join(" "):" ",b=!!(d&&u),M=b?A.genAvatarBackground(d.charAt(0),u.charAt(0)):A.genAvatarBackground(l.charAt(0),l.charAt(1)),B=b?d.charAt(0).toUpperCase()+u.charAt(0).toUpperCase():l.charAt(0).toUpperCase(),U=P?e.jsxs(N.Avatar,{children:[e.jsx(N.AvatarImage,{src:c,alt:"user_avatar"}),e.jsx(R.AvatarFallback,{children:"Avatar"})]}):e.jsx(_.default,{bgColor:M.bgColor,textColor:M.textColor,children:B}),w=b?e.jsx("span",{className:"user-name",children:`${d} ${u}`}):e.jsx("span",{className:"user-name",children:l}),m=C.useMemo(()=>q(n.kcUrl,s,o),[n.kcUrl,s,o]),f=C.useMemo(()=>A.getCurrentPath(m,s||""),[m,s]),{state:L}=t.useSidebar(),y={...n,signOutFn:j,isCollapsed:L==="collapsed"};return e.jsxs(t.Sidebar,{variant:"sidebar",collapsible:"icon",...x,className:"w-[clamp(0px,20vw,256px)] transition-all overflow-hidden",children:[e.jsx(t.SidebarHeader,{children:e.jsx(t.SidebarMenu,{children:e.jsx(t.SidebarMenuItem,{children:e.jsx(O.default,{...y})})})}),e.jsx(t.SidebarContent,{children:m.map(S=>e.jsxs(t.SidebarGroup,{children:[e.jsx(t.SidebarGroupLabel,{children:S.section}),e.jsx(t.SidebarGroupContent,{className:"list-none",children:S.sectionItems.map(r=>{const z=r.target==="blank",k=r?.onClick;return e.jsxs(C.Fragment,{children:[e.jsx(t.SidebarMenuItem,{children:e.jsx(t.SidebarMenuButton,{asChild:!0,isActive:f===r.url,children:e.jsxs(a,{"data-cy":`nav-${r.url.slice(1)}`,onClick:async()=>{k&&await k()},href:r.url,target:z?"_blank":"_self",children:[r.icon&&e.jsx(r.icon,{}),e.jsx("span",{children:r.title})]})})},r.title),r.children&&e.jsx("ul",{className:"ml-4",children:r.children.map(h=>e.jsx(t.SidebarMenuItem,{children:e.jsx(t.SidebarMenuButton,{asChild:!0,isActive:f===h.url,children:e.jsx(a,{href:h.url,children:e.jsx("span",{children:h.title})})})},h.title))})]})})})]},S.section))}),e.jsx(t.SidebarFooter,{children:e.jsx(t.SidebarMenu,{children:e.jsx(t.SidebarMenuItem,{children:e.jsxs(t.SidebarMenuButton,{size:"lg",children:[U,e.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-light",children:w})})]})})})})]})}exports.default=F;exports.getSidenavItems=q;
