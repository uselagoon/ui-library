"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),p=require("react"),t=require("./index.cjs41.js"),s=require("lucide-react"),U=require("./index.cjs94.js"),x=require("./index.cjs95.js"),S=require("./index.cjs10.js"),L=require("@radix-ui/react-avatar"),w=require("./index.cjs96.js"),R=require("./index.cjs5.js"),_=(l,a)=>[{section:"Projects",sectionItems:[{title:"All Projects",url:"/projects",icon:s.FolderGit2},{title:"All Deployments",url:"/alldeployments",icon:s.ServerCog}]},{section:"Organizations",sectionItems:[{title:"All Organizations",url:"/organizations",icon:s.BriefcaseBusiness}]},{section:"Settings",sectionItems:[{title:"SSH Keys",url:"/settings",icon:s.KeyRound},{title:"Preferences",url:"/settings/preferences",icon:s.ListChecks},{title:"My Account",url:`${l}/account`,target:"blank",onClick:()=>{},icon:s.UserRoundCog}]}];function z({userInfo:l,appInfo:a,currentPath:j,signOutFn:g,...A}){const C=R.useLinkComponent(),{name:k,image:b,email:n}=l,f=!!b,o=k?.split(" ")??[],i=o[0]??void 0,c=o.length>1?o.slice(1).join(" "):" ",d=!!(i&&c),m=d?x.genAvatarBackground(i.charAt(0),c.charAt(0)):x.genAvatarBackground(n.charAt(0),n.charAt(1)),M=d?i.charAt(0).toUpperCase()+c.charAt(0).toUpperCase():n.charAt(0).toUpperCase(),q=f?e.jsxs(S.Avatar,{children:[e.jsx(S.AvatarImage,{src:b,alt:"user_avatar"}),e.jsx(L.AvatarFallback,{children:"Avatar"})]}):e.jsx(w.default,{bgColor:m.bgColor,textColor:m.textColor,children:M}),N=d?e.jsx("span",{className:"user-name",children:`${i} ${c}`}):e.jsx("span",{className:"user-name",children:n}),u=p.useMemo(()=>_(a.kcUrl),[a.kcUrl,g]),P=p.useMemo(()=>x.getCurrentPath(u,j||""),[u,j]),y={...a,signOutFn:g};return e.jsxs(t.Sidebar,{variant:"sidebar",collapsible:"icon",...A,className:"w-[clamp(0px,20vw,256px)] transition-all",children:[e.jsx(t.SidebarHeader,{children:e.jsx(t.SidebarMenu,{children:e.jsx(t.SidebarMenuItem,{children:e.jsx(U.default,{...y})})})}),e.jsx(t.SidebarContent,{children:u.map(h=>e.jsxs(t.SidebarGroup,{children:[e.jsx(t.SidebarGroupLabel,{children:h.section}),e.jsx(t.SidebarGroupContent,{className:"list-none",children:h.sectionItems.map(r=>{const B=r.target==="blank",v=r?.onClick;return e.jsx(t.SidebarMenuItem,{children:e.jsx(t.SidebarMenuButton,{asChild:!0,isActive:P===r.url,children:e.jsxs(C,{"data-cy":`nav-${r.url.slice(1)}`,onClick:async()=>{v&&await v()},href:r.url,target:B?"_blank":"_self",children:[e.jsx(r.icon,{}),e.jsx("span",{children:r.title})]})})},r.title)})})]},h.section))}),e.jsx(t.SidebarFooter,{children:e.jsx(t.SidebarMenu,{children:e.jsx(t.SidebarMenuItem,{children:e.jsxs(t.SidebarMenuButton,{size:"lg",children:[q,e.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-light",children:N})})]})})})})]})}exports.default=z;
