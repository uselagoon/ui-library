"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),C=require("react"),s=require("./index.cjs41.js"),T=require("./index.cjs94.js"),q=require("./index.cjs95.js"),w=require("./index.cjs10.js"),G=require("@radix-ui/react-avatar"),R=require("./index.cjs96.js"),W=require("./index.cjs5.js"),S=require("./index.cjs19.js"),A=require("lucide-react"),B=require("./index.cjs13.js"),D=require("./index.cjs70.js"),y=(o,d,t)=>d.children?.length?e.jsx("ul",{className:"ml-4 mt-2 space-y-2",children:d.children.map(a=>e.jsxs(s.SidebarMenuItem,{children:[e.jsx(s.SidebarMenuButton,{asChild:!0,isActive:t.has(a.url),children:e.jsx(o,{href:a.url,className:`${a.icon?"":"ml-4"}`,children:e.jsxs("div",{className:"flex items-center gap-2",children:[a.icon&&e.jsx(a.icon,{}),e.jsx("span",{children:a.title})]})})}),y(o,a,t)]},a.title))}):null;function H({userInfo:o,appInfo:d,currentPath:t,sidenavItems:a,signOutFn:z,...O}){const b=W.useLinkComponent(),{name:U,image:N,email:u}=o,_=!!N,m=U?.split(" ")??[],h=m[0]??void 0,x=m.length>1?m.slice(1).join(" "):" ",g=!!(h&&x),M=g?q.genAvatarBackground(h.charAt(0),x.charAt(0)):q.genAvatarBackground(u.charAt(0),u.charAt(1)),$=g?h.charAt(0).toUpperCase()+x.charAt(0).toUpperCase():u.charAt(0).toUpperCase(),E=_?e.jsxs(w.Avatar,{children:[e.jsx(w.AvatarImage,{src:N,alt:"user_avatar"}),e.jsx(G.AvatarFallback,{children:"Avatar"})]}):e.jsx(R.default,{bgColor:M.bgColor,textColor:M.textColor,children:$}),F=g?e.jsx("span",{className:"user-name",children:`${h} ${x}`}):e.jsx("span",{className:"user-name",children:u}),j=C.useMemo(()=>{const l=new Set;return a.forEach(r=>{r.sectionItems.forEach(i=>{(t===i.url||t.startsWith(i.url+"/"))&&l.add(i.url),i.children?.forEach(c=>{(t===c.url||t.startsWith(c.url+"/"))&&(l.add(c.url),l.add(i.url))})})}),l},[a,t]),{state:L}=s.useSidebar(),[p,v]=C.useState(!1),P={...d,signOutFn:z,isCollapsed:L==="collapsed"};return e.jsxs(e.Fragment,{children:[!p&&e.jsx("div",{className:"lg:hidden fixed top-4 left-4 z-40",children:e.jsx(B.Button,{variant:"ghost",size:"icon",onClick:()=>v(!0),"aria-label":"Open sidebar",children:e.jsx(A.Menu,{className:"h-5 w-5"})})}),e.jsxs(s.Sidebar,{variant:"sidebar",collapsible:"none",...O,className:D.cn("fixed lg:static top-0 left-0 z-40 h-full lg:h-[unset] bg-background transition-transform duration-300","w-[min(20vw,100%)] min-w-[290px] overflow-hidden pr-4 lg:pr-0","lg:translate-x-0",p?"translate-x-0":"-translate-x-full"),children:[p&&e.jsx("div",{className:"lg:hidden absolute top-4 right-0",children:e.jsx(B.Button,{variant:"ghost",size:"icon",onClick:()=>v(!1),"aria-label":"Close sidebar",children:e.jsx(A.X,{className:"h-5 w-5"})})}),e.jsx(s.SidebarHeader,{children:e.jsx(s.SidebarMenu,{children:e.jsx(s.SidebarMenuItem,{children:e.jsx(T.default,{...P})})})}),e.jsx(s.SidebarContent,{children:a.map(l=>e.jsxs(s.SidebarGroup,{children:[e.jsx(s.SidebarGroupLabel,{children:l.section}),e.jsx(s.SidebarGroupContent,{className:"list-none",children:l.sectionItems.map(r=>{const i=r.target==="blank",f=r?.onClick,c=Array.from(j).some(n=>n.startsWith(r.url)),k=!!r.children;return e.jsx(C.Fragment,{children:e.jsxs(S.Collapsible,{open:c,children:[e.jsx(s.SidebarMenuItem,{children:e.jsx(S.CollapsibleTrigger,{asChild:!0,children:e.jsx(s.SidebarMenuButton,{asChild:!0,isActive:j.has(r.url),children:e.jsxs(b,{"data-cy":`nav-${r.url.slice(1)}`,onClick:async()=>{f&&await f()},href:r.url,target:i?"_blank":"_self",className:"flex w-full gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[r.icon&&e.jsx(r.icon,{}),e.jsx("span",{children:r.title})]}),k?e.jsx(A.ChevronUp,{className:`ml-auto h-4 w-4 transition-transform ${c?"rotate-180":""}`}):null]})})})}),e.jsx(S.CollapsibleContent,{children:e.jsx(s.SidebarMenuSub,{children:r.children?.map(n=>e.jsxs(s.SidebarMenuItem,{children:[e.jsx(s.SidebarMenuButton,{asChild:!0,isActive:j.has(n.url),children:e.jsx(b,{href:n.url,className:"mt-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[n.icon&&e.jsx(n.icon,{}),e.jsx("span",{children:n.title})]})})}),y(b,n,j)]},n.title))})})]})},r.title)})})]},l.section))}),e.jsx(s.SidebarFooter,{children:e.jsx(s.SidebarMenu,{children:e.jsx(s.SidebarMenuItem,{children:e.jsxs(s.SidebarMenuButton,{size:"lg",children:[E,e.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-light",children:F})})]})})})})]}),p&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-30 lg:hidden",onClick:()=>v(!1)})]})}exports.default=H;
