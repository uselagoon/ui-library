"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),f=require("react"),r=require("./index.cjs41.js"),P=require("./index.cjs94.js"),k=require("./index.cjs95.js"),q=require("./index.cjs10.js"),T=require("@radix-ui/react-avatar"),$=require("./index.cjs96.js"),G=require("./index.cjs5.js"),S=require("./index.cjs19.js"),C=require("lucide-react"),R=require("./index.cjs13.js"),W=require("./index.cjs70.js"),w=(o,d,n)=>d.children?.length?e.jsx("ul",{className:"ml-4 mt-2 space-y-2",children:d.children.map(a=>e.jsxs(r.SidebarMenuItem,{children:[e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:n.has(a.url),children:e.jsx(o,{href:a.url,children:e.jsx("span",{children:a.title})})}),w(o,a,n)]},a.title))}):null;function D({userInfo:o,appInfo:d,currentPath:n,sidenavItems:a,signOutFn:B,...y}){const p=G.useLinkComponent(),{name:U,image:A,email:u}=o,_=!!A,v=U?.split(" ")??[],h=v[0]??void 0,x=v.length>1?v.slice(1).join(" "):" ",g=!!(h&&x),N=g?k.genAvatarBackground(h.charAt(0),x.charAt(0)):k.genAvatarBackground(u.charAt(0),u.charAt(1)),z=g?h.charAt(0).toUpperCase()+x.charAt(0).toUpperCase():u.charAt(0).toUpperCase(),E=_?e.jsxs(q.Avatar,{children:[e.jsx(q.AvatarImage,{src:A,alt:"user_avatar"}),e.jsx(T.AvatarFallback,{children:"Avatar"})]}):e.jsx($.default,{bgColor:N.bgColor,textColor:N.textColor,children:z}),F=g?e.jsx("span",{className:"user-name",children:`${h} ${x}`}):e.jsx("span",{className:"user-name",children:u}),j=f.useMemo(()=>{const t=new Set;return a.forEach(s=>{s.sectionItems.forEach(i=>{(n===i.url||n.startsWith(i.url+"/"))&&t.add(i.url),i.children?.forEach(c=>{(n===c.url||n.startsWith(c.url+"/"))&&(t.add(c.url),t.add(i.url))})})}),t},[a,n]),{state:L}=r.useSidebar(),[b,M]=f.useState(!1),O={...d,signOutFn:B,isCollapsed:L==="collapsed"};return e.jsxs(e.Fragment,{children:[e.jsxs(r.Sidebar,{variant:"sidebar",collapsible:"none",...y,className:W.cn("relative z-40 h-full bg-background transition-transform duration-300","w-[min(20vw,100%)] min-w-[290px] overflow-hidden","lg:translate-x-0 lg:static lg:block",b?"translate-x-0":"-translate-x-full"),children:[e.jsx("div",{className:"lg:hidden absolute top-4 left-4",children:e.jsx(R.Button,{variant:"ghost",size:"icon",onClick:()=>M(!b),children:b?e.jsx(C.X,{className:"h-5 w-5"}):e.jsx(C.Menu,{className:"h-5 w-5"})})}),e.jsx(r.SidebarHeader,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsx(P.default,{...O})})})}),e.jsx(r.SidebarContent,{children:a.map(t=>e.jsxs(r.SidebarGroup,{children:[e.jsx(r.SidebarGroupLabel,{children:t.section}),e.jsx(r.SidebarGroupContent,{className:"list-none",children:t.sectionItems.map(s=>{const i=s.target==="blank",m=s?.onClick,c=Array.from(j).some(l=>l.startsWith(s.url));return e.jsx(f.Fragment,{children:e.jsxs(S.Collapsible,{open:c,children:[e.jsx(r.SidebarMenuItem,{children:e.jsx(S.CollapsibleTrigger,{asChild:!0,children:e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:j.has(s.url),children:e.jsxs(p,{"data-cy":`nav-${s.url.slice(1)}`,onClick:async()=>{m&&await m()},href:s.url,target:i?"_blank":"_self",className:"flex w-full gap-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.icon&&e.jsx(s.icon,{}),e.jsx("span",{children:s.title})]}),c?e.jsx(C.ChevronUp,{className:`ml-auto h-4 w-4 transition-transform ${c?"rotate-180":""}`}):null]})})})}),e.jsx(S.CollapsibleContent,{children:e.jsx(r.SidebarMenuSub,{children:s.children?.map(l=>e.jsxs(r.SidebarMenuItem,{children:[e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:j.has(l.url),children:e.jsx(p,{href:l.url,children:e.jsx("span",{children:l.title})})}),w(p,l,j)]},l.title))})})]})},s.title)})})]},t.section))}),e.jsx(r.SidebarFooter,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsxs(r.SidebarMenuButton,{size:"lg",children:[E,e.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-light",children:F})})]})})})})]}),b&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-30 lg:hidden",onClick:()=>M(!1)})]})}exports.default=D;
