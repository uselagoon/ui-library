"use strict";Object.defineProperties(exports,{__esModule:{value:!0},[Symbol.toStringTag]:{value:"Module"}});const e=require("react/jsx-runtime"),m=require("react"),r=require("./index.cjs41.js"),T=require("./index.cjs94.js"),M=require("./index.cjs95.js"),k=require("./index.cjs10.js"),U=require("@radix-ui/react-avatar"),W=require("./index.cjs96.js"),$=require("./index.cjs5.js"),f=require("./index.cjs19.js"),S=require("lucide-react"),D=require("./index.cjs13.js"),G=require("./index.cjs70.js"),q=(o,d,t)=>d.children?.length?e.jsx("ul",{className:"ml-4 mt-2 space-y-2",children:d.children.map(n=>e.jsxs(r.SidebarMenuItem,{children:[e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:t.has(n.url),children:e.jsx(o,{href:n.url,children:e.jsx("span",{children:n.title})})}),q(o,n,t)]},n.title))}):null;function O({userInfo:o,appInfo:d,currentPath:t,sidenavItems:n,signOutFn:w,...B}){const b=$.useLinkComponent(),{name:y,image:C,email:u}=o,z=!!C,p=y?.split(" ")??[],h=p[0]??void 0,x=p.length>1?p.slice(1).join(" "):" ",g=!!(h&&x),A=g?M.genAvatarBackground(h.charAt(0),x.charAt(0)):M.genAvatarBackground(u.charAt(0),u.charAt(1)),_=g?h.charAt(0).toUpperCase()+x.charAt(0).toUpperCase():u.charAt(0).toUpperCase(),E=z?e.jsxs(k.Avatar,{children:[e.jsx(k.AvatarImage,{src:C,alt:"user_avatar"}),e.jsx(U.AvatarFallback,{children:"Avatar"})]}):e.jsx(W.default,{bgColor:A.bgColor,textColor:A.textColor,children:_}),F=g?e.jsx("span",{className:"user-name",children:`${h} ${x}`}):e.jsx("span",{className:"user-name",children:u}),c=m.useMemo(()=>{const i=new Set;return n.forEach(s=>{s.sectionItems.forEach(l=>{(t===l.url||t.startsWith(l.url+"/"))&&i.add(l.url),l.children?.forEach(a=>{(t===a.url||t.startsWith(a.url+"/"))&&(i.add(a.url),i.add(l.url))})})}),i},[n,t]),{state:L}=r.useSidebar(),[j,N]=m.useState(!1),P={...d,signOutFn:w,isCollapsed:L==="collapsed"};return e.jsxs(e.Fragment,{children:[e.jsxs(r.Sidebar,{variant:"sidebar",collapsible:"none",...B,className:G.cn("relative z-40 h-full bg-background transition-transform duration-300","w-[min(20vw,100%)] min-w-[290px] overflow-hidden","lg:translate-x-0 lg:static lg:block",j?"translate-x-0":"-translate-x-full"),children:[e.jsx("div",{className:"lg:hidden absolute top-4 right-4",children:e.jsx(D.Button,{variant:"ghost",size:"icon",className:"fixed top-4 left-4 z-50 lg:hidden",onClick:()=>N(!j),children:j?e.jsx(S.X,{className:"h-5 w-5"}):e.jsx(S.Menu,{className:"h-5 w-5"})})}),e.jsx(r.SidebarHeader,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsx(T.default,{...P})})})}),e.jsx(r.SidebarContent,{children:n.map(i=>e.jsxs(r.SidebarGroup,{children:[e.jsx(r.SidebarGroupLabel,{children:i.section}),e.jsx(r.SidebarGroupContent,{className:"list-none",children:i.sectionItems.map(s=>{const l=s.target==="blank",v=s?.onClick;return e.jsx(m.Fragment,{children:e.jsxs(f.Collapsible,{open:Array.from(c).some(a=>a.startsWith(s.url)),children:[e.jsx(r.SidebarMenuItem,{children:e.jsx(f.CollapsibleTrigger,{asChild:!0,children:e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:c.has(s.url),children:e.jsxs(b,{"data-cy":`nav-${s.url.slice(1)}`,onClick:async()=>{v&&await v()},href:s.url,target:l?"_blank":"_self",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[s.icon&&e.jsx(s.icon,{}),e.jsx("span",{children:s.title})]}),e.jsx(S.ChevronDown,{className:`h-4 w-4 transition-transform ${Array.from(c).some(a=>a.startsWith(s.url))?"rotate-180":""}`})]})})})}),e.jsx(f.CollapsibleContent,{children:e.jsx(r.SidebarMenuSub,{children:s.children?.map(a=>e.jsxs(r.SidebarMenuItem,{children:[e.jsx(r.SidebarMenuButton,{asChild:!0,isActive:c.has(a.url),children:e.jsx(b,{href:a.url,children:e.jsx("span",{children:a.title})})}),q(b,a,c)]},a.title))})})]})},s.title)})})]},i.section))}),e.jsx(r.SidebarFooter,{children:e.jsx(r.SidebarMenu,{children:e.jsx(r.SidebarMenuItem,{children:e.jsxs(r.SidebarMenuButton,{size:"lg",children:[E,e.jsx("div",{className:"grid flex-1 text-left text-sm leading-tight",children:e.jsx("span",{className:"truncate font-light",children:F})})]})})})})]}),j&&e.jsx("div",{className:"fixed inset-0 bg-black/40 z-30 lg:hidden",onClick:()=>N(!1)})]})}exports.default=O;
